<h1 class="text-center mb-4">Orders</h1>

<div class="flex justify-center items-center ">

<table class="table-fixed">
  <thead>
    <tr>
      <th>Order no:</th>
      <th>Site</th>
      <th>Created</th>
      <th>Status</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <% @orders.each do |order| %>
      <tr class="transition duration-300 hover:bg-slate-300 border ">
        <td class="m-2"> <%= link_to warehouse_storage_path(order), class: "ml-2" do %>
          <%= image_tag('go_to.png', size: '30x30', class: 'inline') %>
          <%= order.id %>
        <% end %></td>
        <td class="m-2 text-sm"><%= truncate(order.building_site, length: 16) %></td>
        <td class="m-2 text-sm"> <%= order.created_at.strftime("%Y-%m-%d") %>
  <br/>
  <%= order.created_at.strftime("%H:%M")  %></td>
        <td class="m-2">
          <% if order.status == "completed" %>
            <p class="text-green-400"><%= image_tag('ok.png', size: '40x40', alt: "Completed") %></p>
          <% elsif order.status == "pending" %>
            <p class="text-red-400"><%= image_tag('pending_big.png', size: '40x40', alt: "Pending") %></p>
          <% else %>
            <p class="text-blue-400"><%= image_tag('in_progress.png', size: '40x40', alt: "In Progress") %></p>
          <% end %>
        </td>
        <td class="m-2"><td class="p-2"><%= button_to complete_order_path(order), method: :get, data: { confirm: 'Are you sure you want to complete this order?' } do %>
          <%= image_tag('complete.png', size: '30x30', class: "mr-2") %>
        <% end %>
        <%= button_to set_to_pending_order_path(order), method: :get, data: { confirm: 'Are you sure you want to set this order to pending?' } do %>
  <%= image_tag('pending.png', size: '20x20', class: "") %>
<% end %>
        </td></td>
      </tr>
    <% end %>
  </tbody>
</table>



</div>